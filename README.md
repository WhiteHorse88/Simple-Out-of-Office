# Slack Autoresponder Bot ü§ñ

–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—á –¥–ª—è Slack, —è–∫–∏–π —Ä–µ–∞–≥—É—î –Ω–∞ —Å–º–∞–π–ª–∏–∫–∏ –≤ —Å—Ç–∞—Ç—É—Å—ñ.

## üöÄ –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç

### 1. –°—Ç–≤–æ—Ä–∏ Slack App

1. –ô–¥–∏ –Ω–∞ https://api.slack.com/apps
2. –ù–∞—Ç–∏—Å–Ω–∏ **"Create New App"** ‚Üí **"From scratch"**
3. –ù–∞–∑–≤–∞: `Autoresponder` (–∞–±–æ –±—É–¥—å-—è–∫–∞ —ñ–Ω—à–∞)
4. –í–∏–±–µ—Ä–∏ —Å–≤—ñ–π workspace
5. –ù–∞—Ç–∏—Å–Ω–∏ **"Create App"**

### 2. –ù–∞–ª–∞—à—Ç—É–π –¥–æ–∑–≤–æ–ª–∏ (Scopes)

**OAuth & Permissions** ‚Üí **Scopes** ‚Üí –¥–æ–¥–∞–π:

**Bot Token Scopes:**
- `chat:write` - –≤—ñ–¥–ø—Ä–∞–≤–ª—è—Ç–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
- `im:history` - —á–∏—Ç–∞—Ç–∏ DM
- `im:write` - –ø–∏—Å–∞—Ç–∏ –≤ DM
- `users:read` - —á–∏—Ç–∞—Ç–∏ —ñ–Ω—Ñ–æ –ø—Ä–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
- `users.profile:read` - —á–∏—Ç–∞—Ç–∏ —Å—Ç–∞—Ç—É—Å–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤

### 3. –£–≤—ñ–º–∫–Ω–∏ Events

**Event Subscriptions:**
1. –£–≤—ñ–º–∫–Ω–∏ Events
2. Request URL: `https://—Ç–≤—ñ–π-–¥–æ–º–µ–Ω.railway.app/slack/events` (–ø–æ–∫–∏ –Ω–µ –∑–∞–ø–æ–≤–Ω—é–π, –ø–æ–≤–µ—Ä–Ω–µ—à—Å—è –ø—ñ—Å–ª—è –¥–µ–ø–ª–æ—é)
3. Subscribe to bot events:
   - `message.im` - –æ—Ç—Ä–∏–º—É–≤–∞—Ç–∏ DM –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è

### 4. –î–æ–¥–∞–π App Home

**App Home:**
1. –£–≤—ñ–º–∫–Ω–∏ **Home Tab**
2. –£–≤—ñ–º–∫–Ω–∏ **Messages Tab**

### 5. –í—Å—Ç–∞–Ω–æ–≤–∏ App —É workspace

**Install App** ‚Üí **Install to Workspace** ‚Üí –î–æ–∑–≤–æ–ª—å

–°–∫–æ–ø—ñ—é–π **Bot User OAuth Token** (–ø–æ—á–∏–Ω–∞—î—Ç—å—Å—è –∑ `xoxb-`)

### 6. –û—Ç—Ä–∏–º–∞–π Signing Secret

**Basic Information** ‚Üí **App Credentials** ‚Üí —Å–∫–æ–ø—ñ—é–π **Signing Secret**

---

## üíª –õ–æ–∫–∞–ª—å–Ω–∏–π –∑–∞–ø—É—Å–∫

### –ü–µ—Ä–µ–¥—É–º–æ–≤–∏
- Docker –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–π
- Git –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–π

### –ö—Ä–æ–∫–∏:

1. **–ö–ª–æ–Ω—É–π —Ä–µ–ø–æ:**
```bash
git clone https://github.com/—Ç–≤—ñ–π-username/slack-autoresponder.git
cd slack-autoresponder
```

2. **–°—Ç–≤–æ—Ä–∏ .env —Ñ–∞–π–ª:**
```bash
cp .env.example .env
```

3. **–í—ñ–¥—Ä–µ–¥–∞–≥—É–π .env:**
```env
SLACK_BOT_TOKEN=xoxb-—Ç–≤—ñ–π-—Ç–æ–∫–µ–Ω
SLACK_SIGNING_SECRET=—Ç–≤—ñ–π-signing-secret
PORT=3000
```

4. **–ó–∞–ø—É—Å—Ç–∏ Docker:**
```bash
docker-compose up --build
```

5. **–î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è (ngrok):**
```bash
# –í —ñ–Ω—à–æ–º—É —Ç–µ—Ä–º—ñ–Ω–∞–ª—ñ
npx ngrok http 3000
```

–°–∫–æ–ø—ñ—é–π ngrok URL —ñ –¥–æ–¥–∞–π `/slack/events` –≤ Event Subscriptions

---

## üöÇ –î–µ–ø–ª–æ–π –Ω–∞ Railway

### 1. –°—Ç–≤–æ—Ä–∏ –Ω–æ–≤–∏–π –ø—Ä–æ—î–∫—Ç
1. –ô–¥–∏ –Ω–∞ https://railway.app
2. **New Project** ‚Üí **Deploy from GitHub repo**
3. –í–∏–±–µ—Ä–∏ —Å–≤—ñ–π —Ä–µ–ø–æ `slack-autoresponder`

### 2. –î–æ–¥–∞–π –∑–º—ñ–Ω–Ω—ñ –æ—Ç–æ—á–µ–Ω–Ω—è

**Variables:**
```
SLACK_BOT_TOKEN=xoxb-—Ç–≤—ñ–π-—Ç–æ–∫–µ–Ω
SLACK_SIGNING_SECRET=—Ç–≤—ñ–π-signing-secret
PORT=3000
```

### 3. –û—Ç—Ä–∏–º–∞–π URL

Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Å—Ç–≤–æ—Ä–∏—Ç—å URL —Ç–∏–ø—É: `https://slack-autoresponder-production-xxxx.up.railway.app`

### 4. –û–Ω–æ–≤–∏ Request URL –≤ Slack

–ü–æ–≤–µ—Ä–Ω–∏—Å—å –≤ **Event Subscriptions** —ñ –≤—Å—Ç–∞–≤:
```
https://—Ç–≤—ñ–π-railway-url.railway.app/slack/events
```

–ù–∞—Ç–∏—Å–Ω–∏ **Save Changes**

---

## üìñ –Ø–∫ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—Ç–∏—Å—è

### 1. –í—ñ–¥–∫—Ä–∏–π App Home
- –ó–Ω–∞–π–¥–∏ –∞–ø–∫—É –≤ Slack
- –ü–µ—Ä–µ–π–¥–∏ –Ω–∞ –≤–∫–ª–∞–¥–∫—É **Home**

### 2. –î–æ–¥–∞–π –ø—Ä–∞–≤–∏–ª–æ
- –ù–∞—Ç–∏—Å–Ω–∏ **‚ûï –î–æ–¥–∞—Ç–∏ –ø—Ä–∞–≤–∏–ª–æ**
- –í–∏–±–µ—Ä–∏ –µ–º–æ–¥–∑—ñ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥ üèñÔ∏è)
- –ù–∞–ø–∏—à–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –¥–ª—è –∞–≤—Ç–æ–≤—ñ–¥–ø–æ–≤—ñ–¥—ñ
- –ù–∞—Ç–∏—Å–Ω–∏ **–ó–±–µ—Ä–µ–≥—Ç–∏**

### 3. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π
- –í—Å—Ç–∞–Ω–æ–≤–∏ —Å—Ç–∞—Ç—É—Å –∑ –µ–º–æ–¥–∑—ñ üèñÔ∏è
- –ö–æ–ª–∏ —Ö—Ç–æ—Å—å –Ω–∞–ø–∏—à–µ —Ç–æ–±—ñ –≤ DM
- –ë–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤—ñ–¥–ø–æ–≤—ñ—Å—Ç—å

---

## üõ† –†–æ–∑—Ä–æ–±–∫–∞

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ—î–∫—Ç—É:
```
slack-autoresponder/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ app.js           # –û—Å–Ω–æ–≤–Ω–∞ –ª–æ–≥—ñ–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ database.js      # SQLite –±–∞–∑–∞
‚îÇ   ‚îú‚îÄ‚îÄ views/           # UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏
‚îÇ   ‚îî‚îÄ‚îÄ utils/           # –î–æ–ø–æ–º—ñ–∂–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó
‚îú‚îÄ‚îÄ Dockerfile
‚îú‚îÄ‚îÄ docker-compose.yml
‚îú‚îÄ‚îÄ package.json
‚îî‚îÄ‚îÄ .env.example
```

### –ö–æ–º–∞–Ω–¥–∏:
```bash
# –õ–æ–∫–∞–ª—å–Ω–∏–π –∑–∞–ø—É—Å–∫
docker-compose up

# –ü–µ—Ä–µ–±—É–¥—É–≤–∞—Ç–∏
docker-compose up --build

# –ó—É–ø–∏–Ω–∏—Ç–∏
docker-compose down

# –õ–æ–≥–∏
docker-compose logs -f
```

---

## üêõ Troubleshooting

**–ë–æ—Ç –Ω–µ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î:**
- –ü–µ—Ä–µ–≤—ñ—Ä —á–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–∏–π Request URL
- –ü–µ—Ä–µ–≤—ñ—Ä —á–∏ –¥–æ–¥–∞–Ω—ñ –≤—Å—ñ scopes
- –ü–æ–¥–∏–≤–∏—Å—å –ª–æ–≥–∏ –≤ Railway

**Request URL –Ω–µ –≤–µ—Ä–∏—Ñ—ñ–∫—É—î—Ç—å—Å—è:**
- –ü–æ—á–µ–∫–∞–π 1-2 —Ö–≤–∏–ª–∏–Ω–∏ –ø—ñ—Å–ª—è –¥–µ–ø–ª–æ—é
- –ü–µ—Ä–µ–≤—ñ—Ä —á–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–∏–π SLACK_SIGNING_SECRET

**–ë–∞–∑–∞ –¥–∞–Ω–∏—Ö –Ω–µ –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è:**
- Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Å—Ç–≤–æ—Ä—é—î volume –¥–ª—è `/data`

---

## üìù –õ—ñ—Ü–µ–Ω–∑—ñ—è

MIT
